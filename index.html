<html>
<head>
	<title> 
	SPOILER WARNING!!
	</title>
	<meta name="description" content="This website is made to be a convenient way of spoiler tagging text when there is no native option available. "/>
	<meta property="og:title" content="SPOILER WARNING! "/> 
	<meta property="og:image" content="https://axeltong.github.io/Spoiler/warning.png" />
</head>
<body>
	<div id="line1">

	</div>
	
	<div id="decodedDisplay">
	
	</div>
	
	<div id="line3">

	</div>

	
	<script>
		const queryString = window.location.search;
		const urlParams = new URLSearchParams(queryString);
		const base64 = urlParams.get('base64');
		var line1 = document.getElementById("line1")
		var line3 = document.getElementById("line3")
		var display = document.getElementById("decodedDisplay") // get the output
		// var message = "Hello world!" // Input
		if (base64) {
		// base64 = btoa(message) // base64 encode
		// noBase64 = atob(base64) // base64 decode
		decoded = atob(base64)
		console.log(decoded)
		//output.innerHTML = "Encoded: " + base64 + "<br>Decoded: " + noBase64 // Write to div element
		line1.innerHtml = "<h1> Here it is! </h1> <br>"
		display.innerHTML = decoded
		line3.innerHTML = "<br><br>"
		}
		else {
			display.innerHTML = ""
		}
	</script>
	<h1>
		Try it yourself!
	</h1>
	<p>
		Input your message here: 
	</p>
	<textarea id="message" name="message"></textarea>
	<button onclick="encode()">encode</button>

	<div id="encodedDisplay">
	
	</div>
	
	<script>
		var displayer = document.getElementById("encodedDisplay")
		function encode() {
			var message = document.getElementById("message").value
			console.log(message)
			var encoded = btoa(message) // base64 encode
			console.log(encoded)
			var url = "https://axeltong.github.io/Spoiler/?base64=" + encoded
			displayer.innerHTML = "Share this link: " + url
		}
		
	</script>
</body>
</html>
